{% extends "account/base.html" %}

{% block title %}SYSTOLA • Восстановление пароля{% endblock %}

{% block inner %}
  <h1>Восстановление пароля</h1>
  <p>Введите email, и мы отправим ссылку для сброса пароля.</p>
  {% if form.errors %}
    <div class="card" style="background: #ffe8e8; color: #7a1c1c; padding: 12px; margin-bottom: 12px;">
      {{ form.errors }}
    </div>
  {% endif %}
  <form id="password-reset-form" method="post" action="/accounts/password/reset/">
    {% csrf_token %}
    <p>
      <label for="id_email">Email</label><br />
      <input id="id_email" name="email" type="email" required />
    </p>
    <button class="button" type="submit" id="password-reset-submit">Отправить ссылку</button>
  </form>
  <script>
    const resetForm = document.getElementById("password-reset-form");
    const resetButton = document.getElementById("password-reset-submit");
    if (resetForm && resetButton) {
      resetButton.addEventListener("click", () => {
        resetForm.submit();
      });
    }
  </script>
{% endblock %}
